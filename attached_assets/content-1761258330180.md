````
---
title: About metafields and metaobjects
description: Extend Shopify's data models using metafields and metaobjects.
source_url:
  html: 'https://shopify.dev/docs/apps/build/custom-data'
  md: 'https://shopify.dev/docs/apps/build/custom-data.md'
---

ExpandOn this page

* [What are metafields?](https://shopify.dev/docs/apps/build/custom-data.md#what-are-metafields)
* [What are metaobjects?](https://shopify.dev/docs/apps/build/custom-data.md#what-are-metaobjects)
* [Developer tools and resources](https://shopify.dev/docs/apps/build/custom-data.md#developer-tools-and-resources)
* [Next steps](https://shopify.dev/docs/apps/build/custom-data.md#next-steps)

# About metafields and metaobjects

Shopify comes with many built-in data models like products, customers, and orders. Yet often while building for the varied and diverse needs of merchants you'll need a way to customize the data in Shopify:

* **[Metafields](#what-are-metafields)** to extend Shopify's resources with custom fields.
* **[Metaobjects](#what-are-metaobjects)** to create entirely new resources by making new custom objects.

***

## What are metafields?

Metafields are a flexible way to store additional details about existing Shopify resources, like products, orders, and [many more](https://shopify.dev/docs/api/admin-graphql/latest/enums/MetafieldOwnerType). These custom fields can be almost anything, such as related products, release dates, internal approval status, or part numbers.

Metafields power experiences across Shopify. In the Shopify admin, they enable features like customer segmentation, smart collections, and [product taxonomy](https://shopify.dev/docs/apps/build/graphql/migrate/new-product-model/metafield-linked). For customers, they enhance the shopping experience through [product recommendations](https://shopify.dev/docs/apps/build/custom-data/metafields/list-of-standard-definitions), product swatches, and customized checkouts using [Shopify Functions](https://shopify.dev/docs/apps/build/functions/input-queries/metafields-for-input-queries).

### Unstructured metafields

Metafields serve as the foundation for extending Shopify's data model. At their core, metafields are key-value pairs that can be added to specific [resources](https://shopify.dev/docs/api/admin-graphql/latest/enums/MetafieldOwnerType) in Shopify:

* **Identifier**: Composed of both `namespace` (drives [ownership](https://shopify.dev/docs/apps/build/custom-data/ownership)) and `key`.
* **Value**: The raw `value` stored.
* **[Type](https://shopify.dev/docs/apps/build/custom-data/metafields/list-of-data-types)**: How `value` is interpreted.

The `type` on an unstructured metafield can vary on an instance-by-instance basis. To ensure consistency, you need a [metafield definition](#structured-metafields).

**Example**:

You work with a snowboard merchant who needs to store care instructions for each product. Starting simple, you add a `custom.care_guide` metafield to a product by using the [`productUpdate`](https://shopify.dev/docs/api/admin-graphql/latest/mutations/productUpdate) mutation:

## POST https\://{shop}.myshopify.com/api/{api\_version}/graphql.json

## GraphQL mutation

```graphql
mutation {
  productUpdate(input: {
    id: "gid://shopify/Product/1",
    metafields: [\
      {\
        namespace: "custom",\
        key: "care_guide",\
        value: "Wax once a season",\
        type: "single_line_text_field",\
      }\
    ]
  }) {
    product {
      metafield(namespace: "custom", key: "care_guide") {
        value
        type
      }
    }
  }
}
```

## JSON response

```json
{
  "data": {
    "productUpdate": {
      "product": {
        "metafield": {
          "value": "Wax once a season",
          "type": "single_line_text_field"
        }
      }
    }
  }
}
```

### Structured metafields

Metafields covered by a [metafield definition](https://shopify.dev/docs/apps/build/custom-data/metafields/definitions), or structured metafields, **have consistent types** amongst other optional configurations:

* [Data validation](https://shopify.dev/docs/apps/build/custom-data/metafields/list-of-validation-options)
* [Permissions](https://shopify.dev/docs/apps/build/custom-data/permissions)
* [Optional features](https://shopify.dev/docs/apps/build/custom-data/metafields/use-metafield-capabilities)
* [Conditional usage](https://shopify.dev/docs/apps/build/custom-data/metafields/conditional-metafield-definitions)

**Example**:

In this example, you'll add a definition to your snowboard merchant to ensure all products have a `custom.care_guide` metafield with a type of `single_line_text_field` that is also accessible to storefronts:

## shopify.app.toml

```toml
[product.metafields.app.care_guide]
type = "single_line_text_field"
name = "Care Guide"
description = "How to care for the product."
access.storefront = "public_read"
```

```graphql
mutation {
  metafieldDefinitionCreate(definition: {
    name: "Care Guide",
    namespace: "custom",
    key: "care_guide",
    description: "How to care for the product.",
    type: "single_line_text_field",
    ownerType: PRODUCT,
    access: {
      storefront: PUBLIC_READ,
    },
  }) {
    createdDefinition {
      name
      namespace
      key
      type {
        name
      }
      access
    }
  }
}
```

##### TOML

```
[product.metafields.app.care_guide]
type = "single_line_text_field"
name = "Care Guide"
description = "How to care for the product."
access.storefront = "public_read"
```

##### GraphQL

```
mutation {
  metafieldDefinitionCreate(definition: {
    name: "Care Guide",
    namespace: "custom",
    key: "care_guide",
    description: "How to care for the product.",
    type: "single_line_text_field",
    ownerType: PRODUCT,
    access: {
      storefront: PUBLIC_READ,
    },
  }) {
    createdDefinition {
      name
      namespace
      key
      type {
        name
      }
      access
    }
  }
}
```

***

## What are metaobjects?

Metaobjects are a powerful way to create and reuse custom data structures beyond Shopify's standard resources. They exist independently and can be referenced by metafields to connect with standard resources like products, orders, and customers.

Key terms related to metaobjects:

* **Definition**: The structure outlining the fields and properties for your metaobjects.
* **Entry**: An instance of the associated definition.

Note

MetaobjectFields use the same [types](https://shopify.dev/docs/apps/build/custom-data/metafields/list-of-data-types) as metafields.

Metaobject definitions, beyond defining the fields, also offer control over:

* [Permissions](https://shopify.dev/docs/apps/build/custom-data/permissions), such as storefront visibility.
* [Optional features](https://shopify.dev/docs/apps/build/custom-data/metaobjects/use-metaobject-capabilities), such as translatable fields.

**Example**:

Suppose a merchant wants a `Feature` resource in Shopify. You can represent that with a new metaobject definition:

## shopify.app.toml

```toml
[metaobjects.app.feature]
name = "Feature"
display_name_field = "title"
access.admin = "merchant_read_write"
access.storefront = "public_read"
capabilities.translatable = true

[metaobjects.app.feature.fields.title]
name = "Highlight Title"
type = "single_line_text_field"
required = true

[metaobjects.app.feature.fields.description]
name = "Description"
type = "multi_line_text_field"
required = true

[metaobjects.app.feature.fields.creative]
name = "Creative"
type = "file_reference"
```

```graphql
mutation {
  metaobjectDefinitionCreate(definition: {
    type: "$app:feature",
    access: {
      admin: MERCHANT_READ_WRITE,
      storefront: PUBLIC_READ,
    },
    capabilities: {
      translatable: { enabled: true },
    },
    displayNameKey: "title",
    fieldDefinitions: [\
      { key: "title", name: "Highlight Title", type: "single_line_text_field", required: true },\
      { key: "description", name: "Description", type: "multi_line_text_field", required: true },\
      { key: "creative", name: "Creative", type: "file_reference" },\
    ]
  }) {
    metaobjectDefinition {
      id
      type
      fieldDefinitions {
        key
        name
        type
      }
    }
  }
}
```

##### TOML

```
[metaobjects.app.feature]
name = "Feature"
display_name_field = "title"
access.admin = "merchant_read_write"
access.storefront = "public_read"
capabilities.translatable = true

[metaobjects.app.feature.fields.title]
name = "Highlight Title"
type = "single_line_text_field"
required = true

[metaobjects.app.feature.fields.description]
name = "Description"
type = "multi_line_text_field"
required = true

[metaobjects.app.feature.fields.creative]
name = "Creative"
type = "file_reference"
```

##### GraphQL

```
mutation {
  metaobjectDefinitionCreate(definition: {
    type: "$app:feature",
    access: {
      admin: MERCHANT_READ_WRITE,
      storefront: PUBLIC_READ,
    },
    capabilities: {
      translatable: { enabled: true },
    },
    displayNameKey: "title",
    fieldDefinitions: [\
      { key: "title", name: "Highlight Title", type: "single_line_text_field", required: true },\
      { key: "description", name: "Description", type: "multi_line_text_field", required: true },\
      { key: "creative", name: "Creative", type: "file_reference" },\
    ]
  }) {
    metaobjectDefinition {
      id
      type
      fieldDefinitions {
        key
        name
        type
      }
    }
  }
}
```

The merchant's products have a set of key features, so you'll also need to create a product metafield definition that references the `Feature` metaobject definition you just created:

## shopify.app.toml

```toml
[product.metafields.app.key_features]
name = "Key features"
description = "Key features of the product."
type = "list.metaobject_reference<$app:feature>"
access.storefront = "public_read"
```

```graphql
mutation {
  metafieldDefinitionCreate(definition: {
    name: "Key features",
    key: "key_features",
    description: "Key features of the product.",
    type: "list.metaobject_reference",
    ownerType: PRODUCT,
    access: {
      storefront: PUBLIC_READ,
    },
    validation: {
      metaobjectDefinitionId: "gid://shopify/MetaobjectDefinition/1",
    },
  }) {
    createdDefinition {
      namespace
      key
      type
    }
  }
}
```

##### TOML

```
[product.metafields.app.key_features]
name = "Key features"
description = "Key features of the product."
type = "list.metaobject_reference<$app:feature>"
access.storefront = "public_read"
```

##### GraphQL

```
mutation {
  metafieldDefinitionCreate(definition: {
    name: "Key features",
    key: "key_features",
    description: "Key features of the product.",
    type: "list.metaobject_reference",
    ownerType: PRODUCT,
    access: {
      storefront: PUBLIC_READ,
    },
    validation: {
      metaobjectDefinitionId: "gid://shopify/MetaobjectDefinition/1",
    },
  }) {
    createdDefinition {
      namespace
      key
      type
    }
  }
}
```

With those in place, you can create `Feature` entries and reference as many as you want in a product's `key_features` metafield. These entries can be reused across products, making it easy to manage and update.

***

## Developer tools and resources

Explore the following tools and resources to work with metafields and metaobjects:

### Metafields

[GraphQL Admin API\\
\\
](https://shopify.dev/docs/api/admin-graphql/latest/objects/metafield)

[Manage metafields, metafield definitions, and app-data metafields using the GraphQL Admin API.](https://shopify.dev/docs/api/admin-graphql/latest/objects/metafield)

[Storefront API\\
\\
](https://shopify.dev/docs/storefronts/headless/building-with-the-storefront-api/products-collections/metafields)

[Retrieve metafields using the Storefront API.](https://shopify.dev/docs/storefronts/headless/building-with-the-storefront-api/products-collections/metafields)

[Liquid\\
\\
](https://shopify.dev/docs/api/liquid/objects/metafield)

[Access and display metafield data in themes using Liquid.](https://shopify.dev/docs/api/liquid/objects/metafield)

### Metaobjects

[GraphQL Admin API\\
\\
](https://shopify.dev/docs/api/admin-graphql/latest/objects/metaobject)

[Manage metaobjects and their definitions using the GraphQL Admin API.](https://shopify.dev/docs/api/admin-graphql/latest/objects/metaobject)

[Storefront API\\
\\
](https://shopify.dev/docs/api/storefront/latest/objects/metaobject)

[Retrieve metaobjects using the Storefront API.](https://shopify.dev/docs/api/storefront/latest/objects/metaobject)

[Liquid\\
\\
](https://shopify.dev/docs/api/liquid/objects/metaobject)

[Access and display metaobjects in themes using Liquid.](https://shopify.dev/docs/api/liquid/objects/metaobject)

***

## Next steps

* Learn how to [own the custom objects and fields](https://shopify.dev/docs/apps/build/custom-data/ownership) that your app defines in Shopify.
* Learn about all of the different [types](https://shopify.dev/docs/apps/build/custom-data/metafields/list-of-data-types) supported by metafields.
* Learn how to [manage metafields](https://shopify.dev/docs/apps/build/custom-data/metafields/manage-metafields) using the GraphQL Admin API.
* Use metafields to [link product options to the Shopify taxonomy](https://shopify.dev/docs/apps/build/graphql/migrate/new-product-model/metafield-linked).
* Learn how to [work with metaobjects](https://shopify.dev/docs/apps/build/custom-data/metaobjects/manage-metaobjects) using the GraphQL Admin API.

***

* [What are metafields?](https://shopify.dev/docs/apps/build/custom-data.md#what-are-metafields)
* [What are metaobjects?](https://shopify.dev/docs/apps/build/custom-data.md#what-are-metaobjects)
* [Developer tools and resources](https://shopify.dev/docs/apps/build/custom-data.md#developer-tools-and-resources)
* [Next steps](https://shopify.dev/docs/apps/build/custom-data.md#next-steps)

````