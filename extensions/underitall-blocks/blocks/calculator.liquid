{% comment %}
  UnderItAll Custom Rug Pad Calculator
  A theme app block for calculating custom rug pad pricing
{% endcomment %}

{{ 'calculator-block.css' | asset_url | stylesheet_tag }}

<div 
  class="underitall-calculator-block" 
  data-block-id="{{ block.id }}"
  data-api-url="{{ block.settings.api_url }}"
>
  <div id="underitall-calculator-root"></div>
  <script>
    window.UNDERITALL_CALCULATOR_API_URL = "{{ block.settings.api_url }}";
    window.UNDERITALL_BRAND_ASSETS_URL = "{{ block.settings.api_url }}/brand";
  </script>
</div>

<script src="{{ 'calculator-block.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "UnderItAll Calculator",
  "target": "section",
  "settings": [
    {
      "type": "text",
      "id": "api_url",
      "label": "API URL",
      "default": "https://underitall-tools.replit.app",
      "info": "The URL of your UnderItAll application backend"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Custom Rug Pad Calculator"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Get instant pricing for custom-cut perforated rug pads"
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show description",
      "default": true
    }
  ]
}
{% endschema %}
