var UnderItAllChat=function(D,p,A){"use strict";var kr=D=>{throw TypeError(D)};var yt=(D,p,A)=>p.has(D)||kr("Cannot "+A);var l=(D,p,A)=>(yt(D,p,"read from private field"),A?A.call(D):p.get(D)),C=(D,p,A)=>p.has(D)?kr("Cannot add the same private member more than once"):p instanceof WeakSet?p.add(D):p.set(D,A),w=(D,p,A,Ce)=>(yt(D,p,"write to private field"),Ce?Ce.call(D,A):p.set(D,A),A),F=(D,p,A)=>(yt(D,p,"access private method"),A);var rt=(D,p,A,Ce)=>({set _(h){w(D,p,h,A)},get _(){return l(D,p,Ce)}});var ve,ae,Ne,yr,Oe,le,Me,vr,we,wr,Te,ke,V,_,Qe,xe,K,se,xr,X,Sr,Y,j,Se,J,pe,Cr,W,Ve,Pr,I,ce,ue,De,Ie,de,Fe,Re,Ar,he,fe,q,te,re,nt,vt,Er;function Ce(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>t[r]})}}return e.default=t,Object.freeze(e)}const h=Ce(A);var ze=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},He=typeof window>"u"||"Deno"in globalThis;function H(){}function Dr(t,e){return typeof t=="function"?t(e):t}function Ir(t){return typeof t=="number"&&t>=0&&t!==1/0}function Fr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wt(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function xt(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:a,stale:i}=t;if(a){if(n){if(e.queryHash!==st(a,e.options))return!1}else if(!Le(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof i=="boolean"&&e.isStale()!==i||s&&s!==e.state.fetchStatus||o&&!o(e))}function St(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(be(e.options.mutationKey)!==be(o))return!1}else if(!Le(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function st(t,e){return((e==null?void 0:e.queryKeyHashFn)||be)(t)}function be(t){return JSON.stringify(t,(e,r)=>ot(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Le(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Le(t[r],e[r])):!1}function Ct(t,e){if(t===e)return t;const r=Pt(t)&&Pt(e);if(r||ot(t)&&ot(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),a=o.length,i=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:o[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(i[d]=void 0,c++):(i[d]=Ct(t[d],e[d]),i[d]===t[d]&&t[d]!==void 0&&c++)}return s===a&&c===s?t:i}return e}function zr(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Pt(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ot(t){if(!At(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!At(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function At(t){return Object.prototype.toString.call(t)==="[object Object]"}function Lr(t){return new Promise(e=>{setTimeout(e,t)})}function _r(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ct(t,e):e}function jr(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ur(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var it=Symbol();function Et(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===it?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var qr=(yr=class extends ze{constructor(){super();C(this,ve);C(this,ae);C(this,Ne);w(this,Ne,e=>{if(!He&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){l(this,ae)||this.setEventListener(l(this,Ne))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,ae))==null||e.call(this),w(this,ae,void 0))}setEventListener(e){var r;w(this,Ne,e),(r=l(this,ae))==null||r.call(this),w(this,ae,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){l(this,ve)!==e&&(w(this,ve,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof l(this,ve)=="boolean"?l(this,ve):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ve=new WeakMap,ae=new WeakMap,Ne=new WeakMap,yr),Nt=new qr,Wr=(vr=class extends ze{constructor(){super();C(this,Oe,!0);C(this,le);C(this,Me);w(this,Me,e=>{if(!He&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){l(this,le)||this.setEventListener(l(this,Me))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,le))==null||e.call(this),w(this,le,void 0))}setEventListener(e){var r;w(this,Me,e),(r=l(this,le))==null||r.call(this),w(this,le,e(this.setOnline.bind(this)))}setOnline(e){l(this,Oe)!==e&&(w(this,Oe,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return l(this,Oe)}},Oe=new WeakMap,le=new WeakMap,Me=new WeakMap,vr),Ge=new Wr;function Qr(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function Vr(t){return Math.min(1e3*2**t,3e4)}function Ot(t){return(t??"online")==="online"?Ge.isOnline():!0}var Mt=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function at(t){return t instanceof Mt}function Tt(t){let e=!1,r=0,n=!1,s;const o=Qr(),a=g=>{var v;n||(b(new Mt(g)),(v=t.abort)==null||v.call(t))},i=()=>{e=!0},c=()=>{e=!1},u=()=>Nt.isFocused()&&(t.networkMode==="always"||Ge.isOnline())&&t.canRun(),d=()=>Ot(t.networkMode)&&t.canRun(),f=g=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,g),s==null||s(),o.resolve(g))},b=g=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,g),s==null||s(),o.reject(g))},y=()=>new Promise(g=>{var v;s=x=>{(n||u())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(n)return;let g;const v=r===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var z;if(n)return;const E=t.retry??(He?0:3),N=t.retryDelay??Vr,O=typeof N=="function"?N(r,x):N,R=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,x);if(e||!R){b(x);return}r++,(z=t.onFail)==null||z.call(t,r,x),Lr(O).then(()=>u()?void 0:y()).then(()=>{e?b(x):m()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:i,continueRetry:c,canStart:d,start:()=>(d()?m():y().then(m),o)}}function $r(){let t=[],e=0,r=i=>{i()},n=i=>{i()},s=i=>setTimeout(i,0);const o=i=>{e?t.push(i):s(()=>{r(i)})},a=()=>{const i=t;t=[],i.length&&s(()=>{n(()=>{i.forEach(c=>{r(c)})})})};return{batch:i=>{let c;e++;try{c=i()}finally{e--,e||a()}return c},batchCalls:i=>(...c)=>{o(()=>{i(...c)})},schedule:o,setNotifyFunction:i=>{r=i},setBatchNotifyFunction:i=>{n=i},setScheduler:i=>{s=i}}}var L=$r(),kt=(wr=class{constructor(){C(this,we)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ir(this.gcTime)&&w(this,we,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(He?1/0:5*60*1e3))}clearGcTimeout(){l(this,we)&&(clearTimeout(l(this,we)),w(this,we,void 0))}},we=new WeakMap,wr),Hr=(xr=class extends kt{constructor(e){super();C(this,K);C(this,Te);C(this,ke);C(this,V);C(this,_);C(this,Qe);C(this,xe);w(this,xe,!1),w(this,Qe,e.defaultOptions),this.setOptions(e.options),this.observers=[],w(this,V,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,w(this,Te,Kr(this.options)),this.state=e.state??l(this,Te),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,_))==null?void 0:e.promise}setOptions(e){this.options={...l(this,Qe),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,V).remove(this)}setData(e,r){const n=_r(this.state.data,e,this.options);return F(this,K,se).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){F(this,K,se).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=l(this,_))==null?void 0:n.promise;return(s=l(this,_))==null||s.cancel(e),r?r.then(H).catch(H):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,Te))}isActive(){return this.observers.some(e=>Rr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===it||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Fr(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=l(this,_))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=l(this,_))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,V).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(l(this,_)&&(l(this,xe)?l(this,_).cancel({revert:!0}):l(this,_).cancelRetry()),this.scheduleGc()),l(this,V).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||F(this,K,se).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(l(this,_))return l(this,_).continueRetry(),l(this,_).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(b=>b.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(w(this,xe,!0),n.signal)})},o=()=>{const f=Et(this.options,r),b={queryKey:this.queryKey,meta:this.meta};return s(b),w(this,xe,!1),this.options.persister?this.options.persister(f,b,this):f(b)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),w(this,ke,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&F(this,K,se).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const i=f=>{var b,y,m,g;at(f)&&f.silent||F(this,K,se).call(this,{type:"error",error:f}),at(f)||((y=(b=l(this,V).config).onError)==null||y.call(b,f,this),(g=(m=l(this,V).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return w(this,_,Tt({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var b,y,m,g;if(f===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){i(v);return}(y=(b=l(this,V).config).onSuccess)==null||y.call(b,f,this),(g=(m=l(this,V).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:i,onFail:(f,b)=>{F(this,K,se).call(this,{type:"failed",failureCount:f,error:b})},onPause:()=>{F(this,K,se).call(this,{type:"pause"})},onContinue:()=>{F(this,K,se).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),l(this,_).start()}},Te=new WeakMap,ke=new WeakMap,V=new WeakMap,_=new WeakMap,Qe=new WeakMap,xe=new WeakMap,K=new WeakSet,se=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Gr(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return at(s)&&s.revert&&l(this,ke)?{...l(this,ke),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),L.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),l(this,V).notify({query:this,type:"updated",action:e})})},xr);function Gr(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ot(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Kr(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Br=(Sr=class extends ze{constructor(e={}){super();C(this,X);this.config=e,w(this,X,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??st(s,r);let a=this.get(o);return a||(a=new Hr({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){l(this,X).has(e.queryHash)||(l(this,X).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=l(this,X).get(e.queryHash);r&&(e.destroy(),r===e&&l(this,X).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){L.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,X).get(e)}getAll(){return[...l(this,X).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>xt(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>xt(e,n)):r}notify(e){L.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){L.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){L.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},X=new WeakMap,Sr),Xr=(Cr=class extends kt{constructor(e){super();C(this,J);C(this,Y);C(this,j);C(this,Se);this.mutationId=e.mutationId,w(this,j,e.mutationCache),w(this,Y,[]),this.state=e.state||Dt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,Y).includes(e)||(l(this,Y).push(e),this.clearGcTimeout(),l(this,j).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){w(this,Y,l(this,Y).filter(r=>r!==e)),this.scheduleGc(),l(this,j).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,Y).length||(this.state.status==="pending"?this.scheduleGc():l(this,j).remove(this))}continue(){var e;return((e=l(this,Se))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,i,c,u,d,f,b,y,m,g,v,x,E,N,O,R,z,$;w(this,Se,Tt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,P)=>{F(this,J,pe).call(this,{type:"failed",failureCount:M,error:P})},onPause:()=>{F(this,J,pe).call(this,{type:"pause"})},onContinue:()=>{F(this,J,pe).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,j).canRun(this)}));const r=this.state.status==="pending",n=!l(this,Se).canStart();try{if(!r){F(this,J,pe).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(s=l(this,j).config).onMutate)==null?void 0:o.call(s,e,this));const P=await((i=(a=this.options).onMutate)==null?void 0:i.call(a,e));P!==this.state.context&&F(this,J,pe).call(this,{type:"pending",context:P,variables:e,isPaused:n})}const M=await l(this,Se).start();return await((u=(c=l(this,j).config).onSuccess)==null?void 0:u.call(c,M,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,M,e,this.state.context)),await((y=(b=l(this,j).config).onSettled)==null?void 0:y.call(b,M,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,M,null,e,this.state.context)),F(this,J,pe).call(this,{type:"success",data:M}),M}catch(M){try{throw await((x=(v=l(this,j).config).onError)==null?void 0:x.call(v,M,e,this.state.context,this)),await((N=(E=this.options).onError)==null?void 0:N.call(E,M,e,this.state.context)),await((R=(O=l(this,j).config).onSettled)==null?void 0:R.call(O,void 0,M,this.state.variables,this.state.context,this)),await(($=(z=this.options).onSettled)==null?void 0:$.call(z,void 0,M,e,this.state.context)),M}finally{F(this,J,pe).call(this,{type:"error",error:M})}}finally{l(this,j).runNext(this)}}},Y=new WeakMap,j=new WeakMap,Se=new WeakMap,J=new WeakSet,pe=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),L.batch(()=>{l(this,Y).forEach(n=>{n.onMutationUpdate(e)}),l(this,j).notify({mutation:this,type:"updated",action:e})})},Cr);function Dt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yr=(Pr=class extends ze{constructor(e={}){super();C(this,W);C(this,Ve);this.config=e,w(this,W,new Map),w(this,Ve,Date.now())}build(e,r,n){const s=new Xr({mutationCache:this,mutationId:++rt(this,Ve)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Ke(e),n=l(this,W).get(r)??[];n.push(e),l(this,W).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Ke(e);if(l(this,W).has(r)){const s=(n=l(this,W).get(r))==null?void 0:n.filter(o=>o!==e);s&&(s.length===0?l(this,W).delete(r):l(this,W).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=l(this,W).get(Ke(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=l(this,W).get(Ke(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){L.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...l(this,W).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>St(r,n))}findAll(e={}){return this.getAll().filter(r=>St(e,r))}notify(e){L.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return L.batch(()=>Promise.all(e.map(r=>r.continue().catch(H))))}},W=new WeakMap,Ve=new WeakMap,Pr);function Ke(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function It(t){return{onFetch:(e,r)=>{var d,f,b,y,m;const n=e.options,s=(b=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:b.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=Et(e.options,e.fetchOptions),E=async(N,O,R)=>{if(g)return Promise.reject();if(O==null&&N.pages.length)return Promise.resolve(N);const z={queryKey:e.queryKey,pageParam:O,direction:R?"backward":"forward",meta:e.options.meta};v(z);const $=await x(z),{maxPages:M}=e.options,P=R?Ur:jr;return{pages:P(N.pages,$,M),pageParams:P(N.pageParams,O,M)}};if(s&&o.length){const N=s==="backward",O=N?Jr:Ft,R={pages:o,pageParams:a},z=O(n,R);i=await E(R,z,N)}else{const N=t??o.length;do{const O=c===0?a[0]??n.initialPageParam:Ft(n,i);if(c>0&&O==null)break;i=await E(i,O),c++}while(c<N)}return i};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Ft(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Jr(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Zr=(Ar=class{constructor(t={}){C(this,I);C(this,ce);C(this,ue);C(this,De);C(this,Ie);C(this,de);C(this,Fe);C(this,Re);w(this,I,t.queryCache||new Br),w(this,ce,t.mutationCache||new Yr),w(this,ue,t.defaultOptions||{}),w(this,De,new Map),w(this,Ie,new Map),w(this,de,0)}mount(){rt(this,de)._++,l(this,de)===1&&(w(this,Fe,Nt.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,I).onFocus())})),w(this,Re,Ge.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,I).onOnline())})))}unmount(){var t,e;rt(this,de)._--,l(this,de)===0&&((t=l(this,Fe))==null||t.call(this),w(this,Fe,void 0),(e=l(this,Re))==null||e.call(this),w(this,Re,void 0))}isFetching(t){return l(this,I).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return l(this,ce).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=l(this,I).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=l(this,I).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(wt(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return l(this,I).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=l(this,I).get(n.queryHash),o=s==null?void 0:s.state.data,a=Dr(e,o);if(a!==void 0)return l(this,I).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return L.batch(()=>l(this,I).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=l(this,I).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=l(this,I);L.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=l(this,I),n={type:"active",...t};return L.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=L.batch(()=>l(this,I).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(H).catch(H)}invalidateQueries(t={},e={}){return L.batch(()=>{if(l(this,I).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=L.batch(()=>l(this,I).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(H)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(H)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=l(this,I).build(this,e);return r.isStaleByTime(wt(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(H).catch(H)}fetchInfiniteQuery(t){return t.behavior=It(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(H).catch(H)}ensureInfiniteQueryData(t){return t.behavior=It(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ge.isOnline()?l(this,ce).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,I)}getMutationCache(){return l(this,ce)}getDefaultOptions(){return l(this,ue)}setDefaultOptions(t){w(this,ue,t)}setQueryDefaults(t,e){l(this,De).set(be(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...l(this,De).values()];let r={};return e.forEach(n=>{Le(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){l(this,Ie).set(be(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...l(this,Ie).values()];let r={};return e.forEach(n=>{Le(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...l(this,ue).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=st(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===it&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...l(this,ue).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){l(this,I).clear(),l(this,ce).clear()}},I=new WeakMap,ce=new WeakMap,ue=new WeakMap,De=new WeakMap,Ie=new WeakMap,de=new WeakMap,Fe=new WeakMap,Re=new WeakMap,Ar),en=(Er=class extends ze{constructor(e,r){super();C(this,re);C(this,he);C(this,fe);C(this,q);C(this,te);w(this,he,e),this.setOptions(r),this.bindMethods(),F(this,re,nt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=l(this,he).defaultMutationOptions(e),zr(this.options,r)||l(this,he).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,q),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&be(r.mutationKey)!==be(this.options.mutationKey)?this.reset():((n=l(this,q))==null?void 0:n.state.status)==="pending"&&l(this,q).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=l(this,q))==null||e.removeObserver(this)}onMutationUpdate(e){F(this,re,nt).call(this),F(this,re,vt).call(this,e)}getCurrentResult(){return l(this,fe)}reset(){var e;(e=l(this,q))==null||e.removeObserver(this),w(this,q,void 0),F(this,re,nt).call(this),F(this,re,vt).call(this)}mutate(e,r){var n;return w(this,te,r),(n=l(this,q))==null||n.removeObserver(this),w(this,q,l(this,he).getMutationCache().build(l(this,he),this.options)),l(this,q).addObserver(this),l(this,q).execute(e)}},he=new WeakMap,fe=new WeakMap,q=new WeakMap,te=new WeakMap,re=new WeakSet,nt=function(){var r;const e=((r=l(this,q))==null?void 0:r.state)??Dt();w(this,fe,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},vt=function(e){L.batch(()=>{var r,n,s,o,a,i,c,u;if(l(this,te)&&this.hasListeners()){const d=l(this,fe).variables,f=l(this,fe).context;(e==null?void 0:e.type)==="success"?((n=(r=l(this,te)).onSuccess)==null||n.call(r,e.data,d,f),(o=(s=l(this,te)).onSettled)==null||o.call(s,e.data,null,d,f)):(e==null?void 0:e.type)==="error"&&((i=(a=l(this,te)).onError)==null||i.call(a,e.error,d,f),(u=(c=l(this,te)).onSettled)==null||u.call(c,void 0,e.error,d,f))}this.listeners.forEach(d=>{d(l(this,fe))})})},Er),tn=h.createContext(void 0),rn=t=>{const e=h.useContext(tn);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e};function nn(t,e){return typeof t=="function"?t(...e):!!t}function sn(){}function on(t,e){const r=rn(),[n]=h.useState(()=>new en(r,t));h.useEffect(()=>{n.setOptions(t)},[n,t]);const s=h.useSyncExternalStore(h.useCallback(a=>n.subscribe(L.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=h.useCallback((a,i)=>{n.mutate(a,i).catch(sn)},[n]);if(s.error&&nn(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}async function an(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function ln(t,e,r){const n={"Content-Type":"application/json"},s="https://its-under-it-all.replit.app",o=e.startsWith("/")?`${s}${e}`:`${s}/${e}`,a={method:t,headers:n,credentials:"include"};return r&&(a.body=JSON.stringify(r)),fetch(o,a)}const cn=({on401:t})=>async({queryKey:e})=>{const r="https://its-under-it-all.replit.app",n=e.join("/"),s=n.startsWith("http")?n:`${r}${n.startsWith("/")?n:`/${n}`}`,o=await fetch(s,{credentials:"include"});return t==="returnNull"&&o.status===401?null:(await an(o),await o.json())};new Zr({defaultOptions:{queries:{queryFn:cn({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function Rt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zt(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Rt(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Rt(t[s],null)}}}}function me(...t){return h.useCallback(zt(...t),t)}function Lt(t){const e=dn(t),r=h.forwardRef((n,s)=>{const{children:o,...a}=n,i=h.Children.toArray(o),c=i.find(fn);if(c){const u=c.props.children,d=i.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return p.jsx(e,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return p.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var un=Lt("Slot");function dn(t){const e=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const a=bn(s),i=pn(o,s.props);return s.type!==h.Fragment&&(i.ref=n?zt(n,a):a),h.cloneElement(s,i)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hn=Symbol("radix.slottable");function fn(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hn}function pn(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...i)=>{o(...i),s(...i)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function bn(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _t(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=_t(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function jt(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=_t(t))&&(n&&(n+=" "),n+=e);return n}const Ut=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qt=jt,mn=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return qt(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const b=Ut(d)||Ut(f);return s[u][b]}),i=r&&Object.entries(r).reduce((u,d)=>{let[f,b]=d;return b===void 0||(u[f]=b),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:b,...y}=d;return Object.entries(y).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...o,...i}[g]):{...o,...i}[g]===v})?[...u,f,b]:u},[]);return qt(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},lt="-",gn=t=>{const e=vn(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const i=a.split(lt);return i[0]===""&&i.length!==1&&i.shift(),Wt(i,e)||yn(a)},getConflictingClassGroupIds:(a,i)=>{const c=r[a]||[];return i&&n[a]?[...c,...n[a]]:c}}},Wt=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Wt(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(lt);return(a=e.validators.find(({validator:i})=>i(o)))==null?void 0:a.classGroupId},Qt=/^\[(.+)\]$/,yn=t=>{if(Qt.test(t)){const e=Qt.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},vn=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return xn(Object.entries(t.classGroups),r).forEach(([o,a])=>{ct(a,n,o,e)}),n},ct=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Vt(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(wn(s)){ct(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{ct(a,Vt(e,o),r,n)})})},Vt=(t,e)=>{let r=t;return e.split(lt).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},wn=t=>t.isThemeGetter,xn=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,i])=>[e+a,i])):o);return[r,s]}):t,Sn=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},$t="!",Cn=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,a=i=>{const c=[];let u=0,d=0,f;for(let v=0;v<i.length;v++){let x=i[v];if(u===0){if(x===s&&(n||i.slice(v,v+o)===e)){c.push(i.slice(d,v)),d=v+o;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const b=c.length===0?i:i.substring(d),y=b.startsWith($t),m=y?b.substring(1):b,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:g}};return r?i=>r({className:i,parseClassName:a}):a},Pn=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},An=t=>({cache:Sn(t.cacheSize),parseClassName:Cn(t),...gn(t)}),En=/\s+/,Nn=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(En);let i="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:y}=r(u);let m=!!y,g=n(m?b.substring(0,y):b);if(!g){if(!m){i=u+(i.length>0?" "+i:i);continue}if(g=n(b),!g){i=u+(i.length>0?" "+i:i);continue}m=!1}const v=Pn(d).join(":"),x=f?v+$t:v,E=x+g;if(o.includes(E))continue;o.push(E);const N=s(g,m);for(let O=0;O<N.length;++O){const R=N[O];o.push(x+R)}i=u+(i.length>0?" "+i:i)}return i};function On(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Ht(e))&&(n&&(n+=" "),n+=r);return n}const Ht=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Ht(t[n]))&&(r&&(r+=" "),r+=e);return r};function Mn(t,...e){let r,n,s,o=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return r=An(u),n=r.cache.get,s=r.cache.set,o=i,i(c)}function i(c){const u=n(c);if(u)return u;const d=Nn(c,r);return s(c,d),d}return function(){return o(On.apply(null,arguments))}}const T=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Gt=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tn=/^\d+\/\d+$/,kn=new Set(["px","full","screen"]),Dn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,In=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ee=t=>Pe(t)||kn.has(t)||Tn.test(t),oe=t=>Ae(t,"length",Vn),Pe=t=>!!t&&!Number.isNaN(Number(t)),ut=t=>Ae(t,"number",Pe),_e=t=>!!t&&Number.isInteger(Number(t)),Ln=t=>t.endsWith("%")&&Pe(t.slice(0,-1)),S=t=>Gt.test(t),ie=t=>Dn.test(t),_n=new Set(["length","size","percentage"]),jn=t=>Ae(t,_n,Kt),Un=t=>Ae(t,"position",Kt),qn=new Set(["image","url"]),Wn=t=>Ae(t,qn,Hn),Qn=t=>Ae(t,"",$n),je=()=>!0,Ae=(t,e,r)=>{const n=Gt.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Vn=t=>In.test(t)&&!Fn.test(t),Kt=()=>!1,$n=t=>Rn.test(t),Hn=t=>zn.test(t),Gn=Mn(()=>{const t=T("colors"),e=T("spacing"),r=T("blur"),n=T("brightness"),s=T("borderColor"),o=T("borderRadius"),a=T("borderSpacing"),i=T("borderWidth"),c=T("contrast"),u=T("grayscale"),d=T("hueRotate"),f=T("invert"),b=T("gap"),y=T("gradientColorStops"),m=T("gradientColorStopPositions"),g=T("inset"),v=T("margin"),x=T("opacity"),E=T("padding"),N=T("saturate"),O=T("scale"),R=T("sepia"),z=T("skew"),$=T("space"),M=T("translate"),P=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",S,e],k=()=>[S,e],Nr=()=>["",ee,oe],et=()=>["auto",Pe,S],Or=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],tt=()=>["solid","dashed","dotted","double","none"],Mr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],gt=()=>["start","end","center","between","around","evenly","stretch"],$e=()=>["","0",S],Tr=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Pe,S];return{cacheSize:500,separator:":",theme:{colors:[je],spacing:[ee,oe],blur:["none","",ie,S],brightness:ne(),borderColor:[t],borderRadius:["none","","full",ie,S],borderSpacing:k(),borderWidth:Nr(),contrast:ne(),grayscale:$e(),hueRotate:ne(),invert:$e(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[Ln,oe],inset:Z(),margin:Z(),opacity:ne(),padding:k(),saturate:ne(),scale:ne(),sepia:$e(),skew:ne(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",S]}],container:["container"],columns:[{columns:[ie]}],"break-after":[{"break-after":Tr()}],"break-before":[{"break-before":Tr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Or(),S]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_e,S]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",S]}],grow:[{grow:$e()}],shrink:[{shrink:$e()}],order:[{order:["first","last","none",_e,S]}],"grid-cols":[{"grid-cols":[je]}],"col-start-end":[{col:["auto",{span:["full",_e,S]},S]}],"col-start":[{"col-start":et()}],"col-end":[{"col-end":et()}],"grid-rows":[{"grid-rows":[je]}],"row-start-end":[{row:["auto",{span:[_e,S]},S]}],"row-start":[{"row-start":et()}],"row-end":[{"row-end":et()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",S]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",S]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...gt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...gt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...gt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",S,e]}],"min-w":[{"min-w":[S,e,"min","max","fit"]}],"max-w":[{"max-w":[S,e,"none","full","min","max","fit","prose",{screen:[ie]},ie]}],h:[{h:[S,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[S,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[S,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[S,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ie,oe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ut]}],"font-family":[{font:[je]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",S]}],"line-clamp":[{"line-clamp":["none",Pe,ut]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ee,S]}],"list-image":[{"list-image":["none",S]}],"list-style-type":[{list:["none","disc","decimal",S]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...tt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ee,oe]}],"underline-offset":[{"underline-offset":["auto",ee,S]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",S]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",S]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Or(),Un]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wn]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...tt(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:tt()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...tt()]}],"outline-offset":[{"outline-offset":[ee,S]}],"outline-w":[{outline:[ee,oe]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Nr()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ee,oe]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ie,Qn]}],"shadow-color":[{shadow:[je]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Mr(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Mr()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ie,S]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",S]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",S]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",S]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[_e,S]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",S]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",S]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",S]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ee,oe,ut]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function G(...t){return Gn(jt(t))}const Kn=mn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ue=h.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const a=n?un:"button";return p.jsx(a,{className:G(Kn({variant:e,size:r,className:t})),ref:o,...s})});Ue.displayName="Button";const Bt=h.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:G("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Bt.displayName="Card";const Xt=h.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:G("flex flex-col space-y-1.5 p-6",t),...e}));Xt.displayName="CardHeader";const Yt=h.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:G("text-2xl font-semibold leading-none tracking-tight",t),...e}));Yt.displayName="CardTitle";const Bn=h.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:G("text-sm text-muted-foreground",t),...e}));Bn.displayName="CardDescription";const Jt=h.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:G("p-6 pt-0",t),...e}));Jt.displayName="CardContent";const Xn=h.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:G("flex items-center p-6 pt-0",t),...e}));Xn.displayName="CardFooter";const Zt=h.forwardRef(({className:t,type:e,...r},n)=>p.jsx("input",{type:e,className:G("flex h-9 w-full rounded-md border bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-[#7e8d76] placeholder:font-['Lora'] placeholder:italic focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Zt.displayName="Input";var Yn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=Yn.reduce((t,e)=>{const r=Lt(`Primitive.${e}`),n=h.forwardRef((s,o)=>{const{asChild:a,...i}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...i,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),dt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{};function Jn(t,e){return h.useReducer((r,n)=>e[r][n]??r,t)}var We=t=>{const{present:e,children:r}=t,n=Zn(e),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=me(n.ref,es(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};We.displayName="Presence";function Zn(t){const[e,r]=h.useState(),n=h.useRef({}),s=h.useRef(t),o=h.useRef("none"),a=t?"mounted":"unmounted",[i,c]=Jn(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Be(n.current);o.current=i==="mounted"?u:"none"},[i]),dt(()=>{const u=n.current,d=s.current;if(d!==t){const b=o.current,y=Be(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&b!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),dt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=y=>{const g=Be(n.current).includes(y.animationName);if(y.target===e&&g&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},b=y=>{y.target===e&&(o.current=Be(n.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Be(t){return(t==null?void 0:t.animationName)||"none"}function es(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ts(t,e=[]){let r=[];function n(o,a){const i=h.createContext(a),c=r.length;r=[...r,a];const u=f=>{var x;const{scope:b,children:y,...m}=f,g=((x=b==null?void 0:b[t])==null?void 0:x[c])||i,v=h.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:v,children:y})};u.displayName=o+"Provider";function d(f,b){var g;const y=((g=b==null?void 0:b[t])==null?void 0:g[c])||i,m=h.useContext(y);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(a=>h.createContext(a));return function(i){const c=(i==null?void 0:i[t])||o;return h.useMemo(()=>({[`__scope${t}`]:{...i,[t]:c}}),[i,c])}};return s.scopeName=t,[n,rs(s,...e)]}function rs(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((i,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...i,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function ge(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var ns=h.createContext(void 0);function ss(t){const e=h.useContext(ns);return t||e||"ltr"}function os(t,[e,r]){return Math.min(r,Math.max(e,t))}function ye(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function is(t,e){return h.useReducer((r,n)=>e[r][n]??r,t)}var ht="ScrollArea",[er,Es]=ts(ht),[as,Q]=er(ht),tr=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...a}=t,[i,c]=h.useState(null),[u,d]=h.useState(null),[f,b]=h.useState(null),[y,m]=h.useState(null),[g,v]=h.useState(null),[x,E]=h.useState(0),[N,O]=h.useState(0),[R,z]=h.useState(!1),[$,M]=h.useState(!1),P=me(e,Z=>c(Z)),U=ss(s);return p.jsx(as,{scope:r,type:n,dir:U,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:d,content:f,onContentChange:b,scrollbarX:y,onScrollbarXChange:m,scrollbarXEnabled:R,onScrollbarXEnabledChange:z,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:$,onScrollbarYEnabledChange:M,onCornerWidthChange:E,onCornerHeightChange:O,children:p.jsx(qe.div,{dir:U,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});tr.displayName=ht;var rr="ScrollAreaViewport",nr=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,a=Q(rr,r),i=h.useRef(null),c=me(e,i,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});nr.displayName=rr;var B="ScrollAreaScrollbar",ft=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Q(B,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,i=t.orientation==="horizontal";return h.useEffect(()=>(i?o(!0):a(!0),()=>{i?o(!1):a(!1)}),[i,o,a]),s.type==="hover"?p.jsx(ls,{...n,ref:e,forceMount:r}):s.type==="scroll"?p.jsx(cs,{...n,ref:e,forceMount:r}):s.type==="auto"?p.jsx(sr,{...n,ref:e,forceMount:r}):s.type==="always"?p.jsx(pt,{...n,ref:e}):null});ft.displayName=B;var ls=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Q(B,t.__scopeScrollArea),[o,a]=h.useState(!1);return h.useEffect(()=>{const i=s.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(We,{present:r||o,children:p.jsx(sr,{"data-state":o?"visible":"hidden",...n,ref:e})})}),cs=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Q(B,t.__scopeScrollArea),o=t.orientation==="horizontal",a=Ze(()=>c("SCROLL_END"),100),[i,c]=is("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const b=()=>{const y=u[d];f!==y&&(c("SCROLL"),a()),f=y};return u.addEventListener("scroll",b),()=>u.removeEventListener("scroll",b)}},[s.viewport,o,c,a]),p.jsx(We,{present:r||i!=="hidden",children:p.jsx(pt,{"data-state":i==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ye(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),sr=h.forwardRef((t,e)=>{const r=Q(B,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,a]=h.useState(!1),i=t.orientation==="horizontal",c=Ze(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(i?u:d)}},10);return Ee(r.viewport,c),Ee(r.content,c),p.jsx(We,{present:n||o,children:p.jsx(pt,{"data-state":o?"visible":"hidden",...s,ref:e})})}),pt=h.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Q(B,t.__scopeScrollArea),o=h.useRef(null),a=h.useRef(0),[i,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cr(i.viewport,i.content),d={...n,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:b=>o.current=b,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:b=>a.current=b};function f(b,y){return bs(b,a.current,i,y)}return r==="horizontal"?p.jsx(us,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const b=s.viewport.scrollLeft,y=ur(b,i,s.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollLeft=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollLeft=f(b,s.dir))}}):r==="vertical"?p.jsx(ds,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const b=s.viewport.scrollTop,y=ur(b,i);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollTop=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollTop=f(b))}}):null}),us=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Q(B,t.__scopeScrollArea),[a,i]=h.useState(),c=h.useRef(null),u=me(e,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),p.jsx(ir,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Je(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const b=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(b),hr(b,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ye(a.paddingLeft),paddingEnd:Ye(a.paddingRight)}})}})}),ds=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=Q(B,t.__scopeScrollArea),[a,i]=h.useState(),c=h.useRef(null),u=me(e,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),p.jsx(ir,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Je(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const b=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(b),hr(b,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ye(a.paddingTop),paddingEnd:Ye(a.paddingBottom)}})}})}),[hs,or]=er(B),ir=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...b}=t,y=Q(B,r),[m,g]=h.useState(null),v=me(e,P=>g(P)),x=h.useRef(null),E=h.useRef(""),N=y.viewport,O=n.content-n.viewport,R=ge(d),z=ge(c),$=Ze(f,10);function M(P){if(x.current){const U=P.clientX-x.current.left,Z=P.clientY-x.current.top;u({x:U,y:Z})}}return h.useEffect(()=>{const P=U=>{const Z=U.target;(m==null?void 0:m.contains(Z))&&R(U,O)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[N,m,O,R]),h.useEffect(z,[n,z]),Ee(m,$),Ee(y.content,$),p.jsx(hs,{scope:r,scrollbar:m,hasThumb:s,onThumbChange:ge(o),onThumbPointerUp:ge(a),onThumbPositionChange:z,onThumbPointerDown:ge(i),children:p.jsx(qe.div,{...b,ref:v,style:{position:"absolute",...b.style},onPointerDown:ye(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=m.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),M(P))}),onPointerMove:ye(t.onPointerMove,M),onPointerUp:ye(t.onPointerUp,P=>{const U=P.target;U.hasPointerCapture(P.pointerId)&&U.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),x.current=null})})})}),Xe="ScrollAreaThumb",ar=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=or(Xe,t.__scopeScrollArea);return p.jsx(We,{present:r||s.hasThumb,children:p.jsx(fs,{ref:e,...n})})}),fs=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=Q(Xe,r),a=or(Xe,r),{onThumbPositionChange:i}=a,c=me(e,f=>a.onThumbChange(f)),u=h.useRef(void 0),d=Ze(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const b=()=>{if(d(),!u.current){const y=ms(f,i);u.current=y,i()}};return i(),f.addEventListener("scroll",b),()=>f.removeEventListener("scroll",b)}},[o.viewport,d,i]),p.jsx(qe.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ye(t.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),m=f.clientX-y.left,g=f.clientY-y.top;a.onThumbPointerDown({x:m,y:g})}),onPointerUp:ye(t.onPointerUp,a.onThumbPointerUp)})});ar.displayName=Xe;var bt="ScrollAreaCorner",lr=h.forwardRef((t,e)=>{const r=Q(bt,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?p.jsx(ps,{...t,ref:e}):null});lr.displayName=bt;var ps=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Q(bt,r),[o,a]=h.useState(0),[i,c]=h.useState(0),u=!!(o&&i);return Ee(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Ee(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?p.jsx(qe.div,{...n,ref:e,style:{width:o,height:i,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ye(t){return t?parseInt(t,10):0}function cr(t,e){const r=t/e;return isNaN(r)?0:r}function Je(t){const e=cr(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function bs(t,e,r,n="ltr"){const s=Je(r),o=s/2,a=e||o,i=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-i,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return dr([c,u],f)(t)}function ur(t,e,r="ltr"){const n=Je(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,a=e.content-e.viewport,i=o-n,c=r==="ltr"?[0,a]:[a*-1,0],u=os(t,c);return dr([0,a],[0,i])(u)}function dr(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function hr(t,e){return t>0&&t<e}var ms=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},a=r.left!==o.left,i=r.top!==o.top;(a||i)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Ze(t,e){const r=ge(t),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Ee(t,e){const r=ge(e);dt(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var fr=tr,gs=nr,ys=lr;const pr=h.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(fr,{ref:n,className:G("relative overflow-hidden",t),...r,children:[p.jsx(gs,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(br,{}),p.jsx(ys,{})]}));pr.displayName=fr.displayName;const br=h.forwardRef(({className:t,orientation:e="vertical",...r},n)=>p.jsx(ft,{ref:n,orientation:e,className:G("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:p.jsx(ar,{className:"relative flex-1 rounded-full bg-border"})}));br.displayName=ft.displayName;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mr=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ws={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...i},c)=>A.createElement("svg",{ref:c,...ws,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:mr("lucide",s),...i},[...a.map(([u,d])=>A.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(t,e)=>{const r=A.forwardRef(({className:n,...s},o)=>A.createElement(xs,{ref:o,iconNode:e,className:mr(`lucide-${vs(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=mt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=mt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function Ps(){const[t,e]=A.useState(!1),[r,n]=A.useState([]),[s,o]=A.useState(""),[a,i]=A.useState(""),[c]=A.useState(()=>`session_${Date.now()}_${Math.random()}`),u=A.useRef(null),d=void 0,f=on({mutationFn:async m=>{const g=await ln("POST","/api/chat/message",{content:m,conversationId:a,sessionId:c});if(!g.ok){const v=await g.json();throw new Error(v.error||"Failed to send message")}return await g.json()},onSuccess:m=>{if(!m||!m.userMessage||!m.assistantMessage){console.error("Invalid API response structure:",m);return}!a&&m.conversationId&&i(m.conversationId),n(g=>[...g,{id:m.userMessage.id||`user_${Date.now()}`,role:"user",content:m.userMessage.content,createdAt:m.userMessage.createdAt},{id:m.assistantMessage.id||`assistant_${Date.now()}`,role:"assistant",content:m.assistantMessage.content,createdAt:m.assistantMessage.createdAt}])},onError:m=>{console.error("Chat error:",m),n(g=>[...g,{id:`error_${Date.now()}`,role:"assistant",content:"Sorry, I encountered an error. Please try again.",createdAt:new Date().toISOString()}])}}),b=()=>{!s.trim()||f.isPending||(f.mutate(s),o(""))},y=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),b())};return A.useEffect(()=>{},[d]),A.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[r]),t?p.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-96",children:p.jsxs(Bt,{className:"shadow-2xl",style:{borderRadius:"16px"},children:[p.jsx(Xt,{className:"text-white rounded-t-lg py-4",style:{backgroundColor:"#F2633A",borderRadius:"16px 16px 0 0"},children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Yt,{className:"text-lg font-['Archivo']",children:"UnderItAll Assistant"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ue,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20",onClick:()=>e(!1),"data-testid":"button-minimize-chat",children:p.jsx(Ss,{className:"h-4 w-4"})}),p.jsx(Ue,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20",onClick:()=>{e(!1),n([]),i(null)},"data-testid":"button-close-chat",children:p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})}),p.jsxs(Jt,{className:"p-0",children:[p.jsx(pr,{className:"h-[400px] p-4",ref:u,"data-testid":"chat-messages",children:r.length===0?p.jsxs("div",{className:"text-center py-12 font-['Vazirmatn']",style:{color:"#696A6D"},children:[p.jsx(gr,{className:"w-12 h-12 mx-auto mb-4 opacity-50",style:{color:"#F2633A"}}),p.jsx("p",{children:"Hi! I'm here to help you find the perfect rug pad."}),p.jsx("p",{className:"text-sm mt-2",children:"Ask me about sizing, pricing, or our wholesale program!"})]}):p.jsxs("div",{className:"space-y-4",children:[r.map(m=>p.jsx("div",{className:G("flex",m.role==="user"?"justify-end":"justify-start"),"data-testid":`message-${m.role}`,children:p.jsx("div",{className:"max-w-[80%] px-4 py-2 font-['Vazirmatn']",style:{backgroundColor:m.role==="user"?"#F2633A":"#E1E0DA",color:m.role==="user"?"white":"#212227",borderRadius:"11px"},children:p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.content})})},m.id)),f.isPending&&p.jsx("div",{className:"flex justify-start","data-testid":"message-loading",children:p.jsx("div",{className:"px-4 py-2 font-['Vazirmatn']",style:{backgroundColor:"#E1E0DA",borderRadius:"11px"},children:p.jsx("p",{className:"text-sm",style:{color:"#696A6D"},children:"Typing..."})})})]})}),p.jsx("div",{className:"border-t p-4",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Zt,{placeholder:"Ask about rug pads...",value:s,onChange:m=>o(m.target.value),onKeyPress:y,disabled:f.isPending,className:"font-['Vazirmatn']","data-testid":"input-chat-message"}),p.jsx(Ue,{size:"icon",onClick:b,disabled:!s.trim()||f.isPending,className:"font-['Archivo']",style:{backgroundColor:"#F2633A",color:"white",borderRadius:"11px"},"data-testid":"button-send-message",children:p.jsx(Cs,{className:"h-4 w-4"})})]})})]})]})}):p.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:p.jsx(Ue,{size:"icon",className:"h-16 w-16 rounded-full shadow-lg font-['Archivo']",style:{backgroundColor:"#F2633A",color:"white",borderRadius:"50%"},onClick:()=>e(!0),"data-testid":"button-open-chat",children:p.jsx(gr,{className:"h-6 w-6"})})})}return D.ChatBubble=Ps,Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),D}({},React,React);
